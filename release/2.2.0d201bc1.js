webpackJsonp([2],{34:function(t,e,a){a(35);var n=a(6)(a(37),a(48),null,null);t.exports=n.exports},35:function(t,e,a){var n=a(36);"string"==typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);a(12)("5884afba",n,!0)},36:function(t,e,a){e=t.exports=a(11)(),e.push([t.id,".dunDetail-wrap{position:fixed;top:56px;left:272px;bottom:0;right:0}.dun-detail.on{padding-right:600px}.back-btns.on{right:583px}.dun-detail{position:absolute;top:0;left:0;bottom:0;right:0;padding-right:26%;overflow-y:auto;-webkit-transition:padding .3s;transition:padding .3s}.dun-detail .contact-item{padding:10px 20px 0;border-bottom:1px solid #d3dce6;overflow:hidden}.dun-detail .contact-item .title{display:inline-block;color:#20a0ff;font-size:15px}.dun-detail .contact-item .contact-text{margin-bottom:5px}.dun-detail .contact-item ul li{padding:10px 0}.dun-detail .contact-item ul li p{word-wrap:break-word}.dun-detail .contact-item ul li+li{border-top:1px dashed #d3dce6}.side-bottom{position:fixed;right:0;bottom:0;width:450px;margin-bottom:0;transform:translateX(120%)}.dun-record .icons .el-icon-check{font-size:20px;color:#20a0ff}.dun-record .icons .iconfont{font-size:20px;font-weight:700}.side-bottom.active{-webkit-transform:translateX(0);-moz-transform:translateX(0);transition:transform .3s ease}.contacts-callRecord a{margin-left:5px;text-decoration:none;color:#20a0ff}.back-btns{position:absolute;top:50%;margin-top:-44px;-webkit-transition:right .3s;transition:right .3s;right:24.5%;z-index:1}.back-btns>button{box-shadow:0 0 20px #aaa;display:block}.back-btns>button+button{margin:15px 0 0!important}.lineh-22{line-height:22px}.dundetail-remark{display:inline-block}.dundetail-remark .remarkText>span:first-child{word-break:break-all}.dundetail-remark .el-input--mini{width:auto;display:none}.dundetail-remark.on .el-input--mini{display:inline-block}.dundetail-remark.on .remarkText{display:none}.querydunrecord-bd{max-height:440px;overflow-y:auto}.dun-detail .lineh-22>.inline-block{width:200px}",""])},37:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=a(38),s=n(o),i=a(42),r=n(i),c=a(47),l=n(c);a(22);e.default={components:{contacts:r.default},created:function(){var t=this.$store.state.route.query;this.loanId=this.$store.state.route.params.loanId,this.userId=t.userId,this.dun="dun"==t.from,this.personInChargeName=t.chargeName,t.caseStatus&&"null"!=t.caseStatus&&"undefined"!=t.caseStatus?this.caseStatus=t.caseStatus-0:this.caseStatus=null,this.query=t},data:function(){var t;return t={type:0,dunuserloanext:{},query:{},focusDetails:!1,moreDisabled:!1,moreLoading:!1,backLoading:!1,moreText:"点击加载更多...",dun:!1,page:1,month:null,typeOpts:[{label:"全部",value:0},{label:"只看催收记录",value:1},{label:"只看其它记录",value:2}],dunquerymonths:[],querydunrecord:[],showContactsSide:!1,dialogRecords:!1,recordsTitle:"记录",dialogAddContacts:!1,caseStatus:null,caseStatusOpts:[{label:"新案",value:1},{label:"承诺还款",value:2},{label:"重点跟进",value:3},{label:"每日必跟",value:4},{label:"跳票",value:5},{label:"信息均无效",value:6}],personInChargeName:"",dialogBack:!1,duebeforephone:[],Material:[],MaterialPath:[],AuditInfo:{},BankDetail:{},BackDetail:{},frequentContact:[],caller:[],called:[],opercall:[],UserAuditInfo:{},today:new Date,userId:null,loanId:null},(0,s.default)(t,"page",null),(0,s.default)(t,"from",null),(0,s.default)(t,"zoomImage",l.default.zoomImage),(0,s.default)(t,"newContactsPhone",""),(0,s.default)(t,"newContactsName",""),(0,s.default)(t,"backChannel",null),(0,s.default)(t,"cellphone",null),(0,s.default)(t,"details",""),(0,s.default)(t,"dunName",""),(0,s.default)(t,"existPhone",null),t},methods:{}}},42:function(t,e,a){a(43);var n=a(6)(a(45),a(46),null,null);t.exports=n.exports},43:function(t,e,a){var n=a(44);"string"==typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);a(12)("6910f5a2",n,!0)},44:function(t,e,a){e=t.exports=a(11)(),e.push([t.id,".record_contacts_side{position:absolute;top:0;bottom:0;right:0;margin-bottom:0;width:0;transition:width .3s}.record_contacts_side.on{width:600px}.record_contacts_pat{position:absolute;bottom:0;left:0;right:0}.record_contacts_bd{position:absolute;top:73px;left:0;right:0;bottom:64px;overflow:auto}",""])},45:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={created:function(){var t=this;this.loanId=this.$store.state.route.params.loanId,this.loanId&&Vue.observer.$on("getContacts",function(){t.getList()})},data:function(){return{record_contacts:"contacts",page:1,rows:20,total:0,tableData:[],callTypeName:{1:"呼入",2:"呼出",3:"未接",4:"挂断"}}},methods:{hideContacts:function(t){return t.target.parentElement.parentElement.className="el-card box-card table-card record_contacts_side",this.$emit("closeContactsSide","close"),!1},getContacts:function(){this.record_contacts="contacts",this.getList(1)},getRecord:function(){this.record_contacts="record",this.getList(1)},currentChange:function(t){this.page=t,this.getList()},sizeChange:function(t){this.rows=t,this.getList()},getList:function(t){var e=this;if(t&&(this.page=1),!Vue.com.paginationBug(t)){var a={loanId:this.loanId,rows:this.rows||20,page:this.page||1};this.$http.post("/user/"+("contacts"==this.record_contacts?"contactsList":"callRecords"),a).then(function(t){var a=t.data.body||{};e.tableData=a.rows,e.total=a.total})}}}}},46:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"el-card box-card table-card record_contacts_side"},[a("div",{staticClass:"el-card__header"},[a("button",{staticClass:"el-button",class:["contacts"==t.record_contacts?"el-button--primary":"el-button--default"],on:{click:t.getContacts}},[t._v("通讯录")]),t._v(" "),a("button",{staticClass:"el-button",class:["record"==t.record_contacts?"el-button--primary":"el-button--default"],on:{click:t.getRecord}},[t._v("通话记录")]),t._v(" "),a("i",{staticClass:"el-message-box__close el-icon-close fr",on:{click:function(e){t.hideContacts(e)}}})]),t._v(" "),a("div",{staticClass:"record_contacts_bd"},[a("table",{directives:[{name:"show",rawName:"v-show",value:"record"==t.record_contacts,expression:"record_contacts =='record'"}],staticClass:"el-table custom-table"},[t._m(0),t._v(" "),a("tbody",t._l(t.tableData,function(e){return a("tr",[a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[t._v(t._s(e.phone))]),t._v(" "),a("td",[t._v(t._s(t._f("time")(e.callTime)))]),t._v(" "),a("td",[t._v(t._s(t._f("minuteSecond")(e.duration)))]),t._v(" "),a("td",[t._v(t._s(t.callTypeName[e.callType||1]))])])}))]),t._v(" "),a("table",{directives:[{name:"show",rawName:"v-show",value:"contacts"==t.record_contacts,expression:"record_contacts =='contacts'"}],staticClass:"el-table custom-table table-fixed"},[t._m(1),t._v(" "),a("tbody",t._l(t.tableData,function(e){return a("tr",[a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[t._v(t._s(e.phone))])])}))])]),t._v(" "),a("el-pagination",{staticClass:"record_contacts_pat",attrs:{"current-page":1,"page-size":t.rows,layout:"total, prev, pager, next, jumper",total:t.total},on:{"current-change":t.currentChange,"size-change":t.sizeChange}})],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("备注名")]),t._v(" "),a("th",[t._v("号码")]),t._v(" "),a("th",[t._v("通话时间")]),t._v(" "),a("th",[t._v("通话时长")]),t._v(" "),a("th",[t._v("通话类型")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("姓名")]),t._v(" "),a("th",[t._v("号码")])])])}]}},47:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(){};a.prototype.init=function(t){var e;if(t.photos){if("string"==typeof t.photos)e=t.photos.split(",");else{if(!t.photos.slice)return;e=t.photos}this.photosSrc=e,this.photos=e,this.length=this.photos.length,this.contanier||(this.contanier=$('<div class="zoomImage" id="ZoomImage">\t\t\t\t<div class="z_loading">图片加载中...</div>\t\t\t    <canvas id="canvas" data-rotate="0"></canvas>\t\t\t    <button class="z_close z_svg"><svg width="30" height="30" xmlns="http://www.w3.org/2000/svg" version="1.1"><g stroke="rgb(160, 160, 160)" stroke-width="4"><line x1="5" y1="5" x2="25" y2="25"></line><line x1="5" y1="25" x2="25" y2="5"></line>X</g></svg></button>\t\t\t    <p class="z_index"></p>\t\t\t    <div class="z_btns">\t\t\t\t    <button class="z_rotateL iconfont" title="左旋转">&#xe627;</button>\t\t\t    \t<button class="iconfont disabledBtn z_prev" title="前一张图片">&#xe711;</button>\t\t\t\t\t<button class="iconfont disabledBtn z_next" title="后一张图片">&#xe779;</button>\t\t\t    </div>\t\t\t</div>'),this.canvas=this.contanier.find("#canvas")[0],this.canvas.width=$(window).width(),this.canvas.height=$(window).height()-150,this.ctx=this.canvas.getContext("2d"),this.bindEvent()),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.trackTransforms(this.ctx),this.ctx.save(),this.contanier.appendTo("body").fadeIn(150),document.body.style.mozUserSelect=document.body.style.webkitUserSelect=document.body.style.userSelect="none",this.index=t.index||0,this.redraw(),this.setDisabled(),$(this.canvas).fadeIn()}},a.prototype.redraw=function(){var t=this;if(this.photos[this.index].src)this.drawImg(this.photos[this.index]);else{var e=new Image;t.loading.show(),e.onload=function(){t.loading.hide(),t.drawImg(e),t.photos[t.index]=e},e.src=this.photos[this.index]}this.indexEl.html(this.index+1+"/"+this.length)},a.prototype.drawImg=function(t){var e=this.ctx.transformedPoint(0,0),a=this.ctx.transformedPoint(this.canvas.width,this.canvas.height),n=t.width,o=t.height,s=0,i=0,r=t.height/this.canvas.height,c=t.width/this.canvas.width;c<1&&r<1&&(s=(this.canvas.width-t.width)/2,i=(this.canvas.height-t.height)/2,n=t.width,o=t.height),c>=1&&r<1&&(s=0,n=this.canvas.width,o=t.height*this.canvas.width/t.width,i=(this.canvas.height-o)/2),r>=1&&(i=0,o=this.canvas.height,n=this.canvas.height*t.width/t.height,s=(this.canvas.width-n)/2),this.ctx.clearRect(e.x,e.y,a.x-e.x,a.y-e.y),this.ctx.drawImage(t,s,i,n,o)},a.prototype.bindEvent=function(){var t=this,e=this.canvas;this.prev=this.contanier.find(".z_prev"),this.next=this.contanier.find(".z_next"),this.indexEl=this.contanier.find(".z_index"),this.loading=this.contanier.find(".z_loading"),this.prev.mousedown(function(){return t.getImageSrc(-1),!1}),this.next.mousedown(function(){return t.getImageSrc(1),!1}),this.contanier.find(".z_close").mousedown(function(){return t.close(),!1}),this.contanier.find(".z_rotateL").mousedown(function(){return t.rotate(1),!1});var a,n,o=e.width/2,s=e.height/2,i=this.ctx;e.addEventListener("mousedown",function(t){o=t.offsetX||t.pageX-e.offsetLeft,s=t.offsetY||t.pageY-e.offsetTop,a=i.transformedPoint(o,s),n=!1},!1),e.addEventListener("mousemove",function(r){if(o=r.offsetX||r.pageX-e.offsetLeft,s=r.offsetY||r.pageY-e.offsetTop,n=!0,a){var c=i.transformedPoint(o,s);i.translate(c.x-a.x,c.y-a.y),t.drawImg(t.photos[t.index])}},!1),this.contanier[0].addEventListener("mouseup",function(t){a&&(a=null,n||c(t.shiftKey?-1:1))},!1);var r=1.1;t.factor=1;var c=function(e){var a,n=Math.pow(r,e),c=t.factor*n;c>7||c<.7||(t.factor=c,a=i.transformedPoint(o,s),i.translate(a.x,a.y),i.scale(n,n),i.translate(-a.x,-a.y),t.drawImg(t.photos[t.index]))},l=function(t){var e=t.wheelDelta?t.wheelDelta/60:t.detail?-t.detail:0;return e&&c(e),t.preventDefault()&&!1};e.addEventListener("DOMMouseScroll",l,!1),e.addEventListener("mousewheel",l,!1)},a.prototype.setDisabled=function(){this.prev.attr("disabled",this.index<=0),this.next.attr("disabled",this.index>=this.length-1)},a.prototype.getImageSrc=function(t){var e=this;this.rotate(0),this.index+=t,this.factor=1,this.setDisabled(),$(this.canvas).fadeOut(function(){e.ctx.restore(),e.ctx.clearRect(0,0,e.canvas.width,e.canvas.height),e.ctx.save(),e.redraw()}).fadeIn()},a.prototype.close=function(){var t=this;this.contanier.fadeOut(function(){t.contanier.detach(),t.factor=1,t.rotate(0),$(t.canvas).hide(),t.ctx.restore()}),document.body.style.mozUserSelect=document.body.style.webkitUserSelect=document.body.style.userSelect="",this.photos=void 0,this.photosSrc=void 0},a.prototype.rotate=function(t){var e=t?this.canvas.dataset.rotate-0+90*t:0;this.canvas.dataset.rotate=e,this.canvas.style.transform="rotate("+-e+"deg)"},a.prototype.trackTransforms=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","svg"),a=e.createSVGMatrix();t.getTransform=function(){return a};var n=[],o=t.save;t.save=function(){return n.push(a.translate(0,0)),o.call(t)};var s=t.restore;t.restore=function(){return a=n.pop(),s.call(t)};var i=t.scale;t.scale=function(e,n){return a=a.scaleNonUniform(e,n),i.call(t,e,n)};var r=t.rotate;t.rotate=function(e){return a=a.rotate(180*e/Math.PI),r.call(t,e)};var c=t.translate;t.translate=function(e,n){return a=a.translate(e,n),c.call(t,e,n)};var l=t.transform;t.transform=function(n,o,s,i,r,c){var d=e.createSVGMatrix();return d.a=n,d.b=o,d.c=s,d.d=i,d.e=r,d.f=c,a=a.multiply(d),l.call(t,n,o,s,i,r,c)};var d=t.setTransform;t.setTransform=function(e,n,o,s,i,r){return a.a=e,a.b=n,a.c=o,a.d=s,a.e=i,a.f=r,d.call(t,e,n,o,s,i,r)};var h=e.createSVGPoint();t.transformedPoint=function(t,e){return h.x=t,h.y=e,h.matrixTransform(a.inverse())}},e.default={zoomImage:new a}},48:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dunDetail-wrap"},[a("div",{staticClass:"page-header",staticStyle:{"margin-top":"20px"}},[a("h2",[t._v("详情")]),t._v(" "),a("span",{staticStyle:{"font-size":"12px"}},[t._v("（借款编号-"+t._s(t.loanId)+"）")])])])},staticRenderFns:[]}}});